/**
 * Created by th on 4 Aug 2016.
 */
!function(t){"use strict"
var e
t(".printq_media_clear_btn").click(function(e){e.preventDefault()
var i=t(this).data("target"),a=t(this).data("type")
t(i).val(""),t(i+"-preview").attr("src",pqd_logo["default_logo"+a]).attr("srcset",pqd_logo["default_logo"+a]).attr("alt","").attr("width","auto").attr("height","auto").css({"max-width":"150px","max-height":"150px"})}),t(".printq_media_choose_btn").click(function(i){i.preventDefault()
var a=t(this).data("target"),n=t(a).val(),o=function(t){return function(){if(e&&t){var i=e.state().get("selection")
i.add(wp.media.attachment(t))}}}(n),r=function(i){return function(){if(e){var a=e.state().get("selection").first().toJSON(),n=t(i+"-preview"),o=Math.min(a.width,150),r=Math.min(a.height,150),s=a.url
"undefined"!=typeof a.sizes&&"undefined"!=typeof a.sizes.thumbnail&&(s=a.sizes.thumbnail.url,o=a.sizes.thumbnail.width,r=a.sizes.thumbnail.height),n.attr("src",s).attr("srcset",s).attr("width",o).attr("height",r),t(i).val(a.id)}}}(a)
return e?(e.off("select").on("select",r),e.off("open").on("open",o),void e.open()):(wp.media.model.settings.post.id=n,e=wp.media.frames.file_frame=wp.media({title:pqd_logo.title,button:{text:pqd_logo.btn_text},library:{type:"image"},multiple:!1}),e.off("open").on("open",o),e.on("select",r),void e.open())})}(window.jQuery)
